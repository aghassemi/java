// This file was auto-generated by the veyron vdl tool.
// Source: cache.vdl
package com.veyron.examples.wspr_sample.vdlgen;

import com.veyron2.ipc.ServerContext;
import com.veyron2.ipc.VeyronException;
import com.veyron2.vdl.Stream;
import java.util.ArrayList;
import java.util.HashMap;

/**
 * A Cache service mimics the memcache interface.
**/
public interface CacheService { 
	// Set sets a value for a key.
	public void set(ServerContext context, String key, Object value) throws VeyronException;
	// Get returns the value for a key.  If the value is not found, returns
// a not found error.
	public Object get(ServerContext context, String key) throws VeyronException;
	// Same as Get, but casts the return argument to an byte.
	public byte getAsByte(ServerContext context, String key) throws VeyronException;
	// Same as Get, but casts the return argument to an int32.
	public int getAsInt32(ServerContext context, String key) throws VeyronException;
	// Same as Get, but casts the return argument to an int64.
	public long getAsInt64(ServerContext context, String key) throws VeyronException;
	// Same as Get, but casts the return argument to an uint32.
	public int getAsUint32(ServerContext context, String key) throws VeyronException;
	// Same as Get, but casts the return argument to an uint64.
	public long getAsUint64(ServerContext context, String key) throws VeyronException;
	// Same as Get, but casts the return argument to an float32.
	public float getAsFloat32(ServerContext context, String key) throws VeyronException;
	// Same as Get, but casts the return argument to an float64.
	public double getAsFloat64(ServerContext context, String key) throws VeyronException;
	// Same as Get, but casts the return argument to a string.
	public String getAsString(ServerContext context, String key) throws VeyronException;
	// Same as Get, but casts the return argument to a bool.
	public boolean getAsBool(ServerContext context, String key) throws VeyronException;
	// Same as Get, but casts the return argument to an error.
	public VeyronException getAsError(ServerContext context, String key) throws VeyronException;
	// AsMap returns the full contents of the cache as a map.
	public HashMap<String, Object> asMap(ServerContext context) throws VeyronException;
	// KeyValuePairs returns the full contents of the cache as a slice of pairs.
	public ArrayList<KeyValuePair> keyValuePairs(ServerContext context) throws VeyronException;
	// MostRecentSetOut packages output arguments for method MostRecentSet.
	public class MostRecentSetOut { 
		public KeyValuePair value;
		public long time;
	}
	// MostRecentSet returns the key and value and the timestamp for the most
// recent set operation
// TODO(bprosnitz) support type types and change time to native time type
	public CacheService.MostRecentSetOut mostRecentSet(ServerContext context) throws VeyronException;
	// KeyPage indexes into the keys (in alphanumerically sorted order) and
// returns the indexth page of 10 keys.
	public String[] keyPage(ServerContext context, long index) throws VeyronException;
	// Size returns the total number of entries in the cache.
	public long size(ServerContext context) throws VeyronException;
	// MultiGet sets up a stream that allows fetching multiple keys.
	public void multiGet(ServerContext context, Stream<Object,String> stream) throws VeyronException;
}
