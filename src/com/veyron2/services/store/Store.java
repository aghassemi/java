// This file was auto-generated by the veyron vdl tool.
// Source: service.vdl
package com.veyron2.services.store;

/**
 * Store is the client interface to the storage system.
 */

public interface Store  {

    
    

    
    // CreateTransaction creates the transaction and sets the options for it.

    public void createTransaction(final com.veyron2.ipc.Context context, final com.veyron2.services.store.TransactionID TID, final java.util.ArrayList<java.lang.Object> Options) throws com.veyron2.ipc.VeyronException;
    public void createTransaction(final com.veyron2.ipc.Context context, final com.veyron2.services.store.TransactionID TID, final java.util.ArrayList<java.lang.Object> Options, final com.veyron2.Options veyronOpts) throws com.veyron2.ipc.VeyronException;

    
    

    
    // Commit commits the changes in the transaction to the store.  The
// operation is atomic, so all mutations are performed, or none.  Returns an
// error if the transaction aborted.

    public void commit(final com.veyron2.ipc.Context context, final com.veyron2.services.store.TransactionID TID) throws com.veyron2.ipc.VeyronException;
    public void commit(final com.veyron2.ipc.Context context, final com.veyron2.services.store.TransactionID TID, final com.veyron2.Options veyronOpts) throws com.veyron2.ipc.VeyronException;

    
    

    
    // Abort discards a transaction.  This is an optimization; transactions
// eventually time out and get discarded.  However, live transactions
// consume resources, so if you know that you won't be using a transaction
// anymore, you should discard it explicitly.

    public void abort(final com.veyron2.ipc.Context context, final com.veyron2.services.store.TransactionID TID) throws com.veyron2.ipc.VeyronException;
    public void abort(final com.veyron2.ipc.Context context, final com.veyron2.services.store.TransactionID TID, final com.veyron2.Options veyronOpts) throws com.veyron2.ipc.VeyronException;

    
    

    
    // ReadConflicts returns the stream of conflicts to store values.  A
// conflict occurs when there is a concurrent modification to a value.

    public com.veyron2.vdl.ClientStream<java.lang.Void,com.veyron2.services.store.Conflict, java.lang.Void> readConflicts(final com.veyron2.ipc.Context context) throws com.veyron2.ipc.VeyronException;
    public com.veyron2.vdl.ClientStream<java.lang.Void,com.veyron2.services.store.Conflict, java.lang.Void> readConflicts(final com.veyron2.ipc.Context context, final com.veyron2.Options veyronOpts) throws com.veyron2.ipc.VeyronException;

}
